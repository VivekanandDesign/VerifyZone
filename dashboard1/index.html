<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V-Zone - VerifyZone</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/global.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/dashboard-navbar.js"></script>
</head>
<body class="dashboard-page">
    <!-- Top navbar will be injected here by JavaScript -->
    <div id="top-navbar-container"></div>
    
    <!-- Sidebar Toggle Button -->
    <button class="sidebar-toggle" id="sidebarToggle">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <polyline points="15,18 9,12 15,6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
    
    <!-- Mobile menu toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle">â˜°</button>
    
    <!-- Sidebar overlay for mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <div class="dashboard-container">
        <aside class="sidebar" id="sidebar">
            <nav class="sidebar-nav">
                <ul>
                    <!-- Dashboard -->
                    <li><a href="#dashboard" class="nav-link active" data-tooltip="Dashboard">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="3" y="3" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <rect x="14" y="3" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <rect x="14" y="14" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <rect x="3" y="14" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Dashboard</span>
                    </a></li>
                    
                    <!-- User Details Accordion -->
                    <li class="nav-accordion">
                        <a href="#" class="nav-link accordion-toggle" data-tooltip="User Details">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M23 21V19C23 18.1332 22.7361 17.3024 22.2512 16.6193C21.7664 15.9361 21.0872 15.4429 20.3127 15.2134" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M16 3.13A4.001 4.001 0 0 1 16 10.87" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span>User Details</span>
                            <svg class="accordion-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <polyline points="6,9 12,15 18,9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                        <ul class="accordion-submenu">
                            <li><a href="add-exist-details.html" class="nav-link submenu-link" data-tooltip="Add Exist Details">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <line x1="16" y1="13" x2="8" y2="13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <line x1="16" y1="17" x2="8" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <polyline points="10,9 9,9 8,9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span>Add Exist Details</span>
                            </a></li>
                            <li><a href="verification-request.html" class="nav-link submenu-link" data-tooltip="Verification Request">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 12L11 14L15 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span>Verification Request</span>
                            </a></li>
                            <li><a href="new-request-received.html" class="nav-link submenu-link" data-tooltip="New Request Received">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M19 11H5M12 5V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span>New Request Received</span>
                            </a></li>
                            <li><a href="search-candidate.html" class="nav-link submenu-link" data-tooltip="Search Candidate">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span>Search Candidate</span>
                            </a></li>
                            <li><a href="bulk-upload.html" class="nav-link submenu-link" data-tooltip="Bulk Upload">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 15V19C21 19.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <polyline points="7,10 12,5 17,10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <line x1="12" y1="5" x2="12" y2="15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span>Bulk Upload</span>
                            </a></li>
                        </ul>
                    </li>
                    
                    <!-- Rate Employee -->
                    <li><a href="rate-employee.html" class="nav-link" data-tooltip="Rate Employee">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26 12,2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Rate Employee</span>
                    </a></li>
                    
                    <!-- External Links -->
                    <li><a href="../dashboard2/index.html" class="nav-link external" data-tooltip="X-Zone Dashboard">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span>X-Zone Dashboard</span>
                    </a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="header-content">
                    <h1>V-Zone</h1>
                    <div class="header-actions">
                        <button class="btn btn-outline">Export Data</button>
                        <button class="btn btn-primary">Refresh</button>
                    </div>
                </div>
            </header>

            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <!-- Dashboard Section -->
                <section id="dashboard" class="section active">
                    <!-- KPI Cards -->
                    <div class="kpi-grid">
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <div class="kpi-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <line x1="12" y1="1" x2="12" y2="23" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                                <h3 class="kpi-title">Total Revenue</h3>
                            </div>
                            <div class="kpi-content">
                                <p class="kpi-value">$124,500</p>
                                <span class="kpi-change positive">+12.5%</span>
                            </div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <div class="kpi-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 5.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M23 21V19C23 18.1332 22.7361 17.3024 22.2512 16.6193C21.7664 15.9361 21.0872 15.4429 20.3127 15.2134" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M16 3.13A4.001 4.001 0 0 1 16 10.87" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                                <h3 class="kpi-title">Active Users</h3>
                            </div>
                            <div class="kpi-content">
                                <p class="kpi-value">8,456</p>
                                <span class="kpi-change positive">+8.2%</span>
                            </div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <div class="kpi-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M3 3V21H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M9 9L12 6L16 10L20 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                                <h3 class="kpi-title">Conversion Rate</h3>
                            </div>
                            <div class="kpi-content">
                                <p class="kpi-value">3.2%</p>
                                <span class="kpi-change negative">-1.1%</span>
                            </div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <div class="kpi-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <polyline points="12,6 12,12 16,14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                                <h3 class="kpi-title">Avg. Session</h3>
                            </div>
                            <div class="kpi-content">
                                <p class="kpi-value">4m 32s</p>
                                <span class="kpi-change positive">+15.3%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Grid -->
                    <div class="charts-grid">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>Revenue Trend</h3>
                                <select class="chart-filter">
                                    <option>Last 7 days</option>
                                    <option>Last 30 days</option>
                                    <option>Last 3 months</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>User Acquisition</h3>
                                <select class="chart-filter">
                                    <option>This month</option>
                                    <option>Last month</option>
                                    <option>This quarter</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <canvas id="usersChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Data Table -->
                    <div class="table-card">
                        <div class="table-header">
                            <h3>Top Performing Pages</h3>
                            <input type="search" placeholder="Search pages..." class="search-input">
                        </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Page</th>
                                        <th>Views</th>
                                        <th>Unique Visitors</th>
                                        <th>Bounce Rate</th>
                                        <th>Conversion</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>/dashboard</td>
                                        <td>15,240</td>
                                        <td>12,890</td>
                                        <td>24.5%</td>
                                        <td>4.2%</td>
                                    </tr>
                                    <tr>
                                        <td>/analytics</td>
                                        <td>8,560</td>
                                        <td>7,340</td>
                                        <td>31.2%</td>
                                        <td>3.8%</td>
                                    </tr>
                                    <tr>
                                        <td>/reports</td>
                                        <td>6,780</td>
                                        <td>5,920</td>
                                        <td>28.9%</td>
                                        <td>5.1%</td>
                                    </tr>
                                    <tr>
                                        <td>/settings</td>
                                        <td>4,320</td>
                                        <td>3,890</td>
                                        <td>18.7%</td>
                                        <td>2.9%</td>
                                    </tr>
                                    <tr>
                                        <td>/profile</td>
                                        <td>3,650</td>
                                        <td>3,210</td>
                                        <td>22.1%</td>
                                        <td>1.8%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Sales Section -->
                <section id="sales" class="section">
                    <div class="section-header">
                        <h2>Sales Analytics</h2>
                        <p>Track sales performance and revenue metrics</p>
                    </div>
                    <div class="placeholder-content">
                        <div class="placeholder-card">
                            <h3>Sales Analytics Content</h3>
                            <p>This section will contain sales-specific charts, metrics, and analysis tools.</p>
                        </div>
                    </div>
                </section>

                <!-- Users Section -->
                <section id="users" class="section">
                    <div class="section-header">
                        <h2>User Analytics</h2>
                        <p>Analyze user behavior and engagement patterns</p>
                    </div>
                    <div class="placeholder-content">
                        <div class="placeholder-card">
                            <h3>User Analytics Content</h3>
                            <p>This section will contain user behavior analysis, demographics, and engagement metrics.</p>
                        </div>
                    </div>
                </section>

                <!-- Performance Section -->
                <section id="performance" class="section">
                    <div class="section-header">
                        <h2>Performance Metrics</h2>
                        <p>Monitor system performance and optimization opportunities</p>
                    </div>
                    <div class="placeholder-content">
                        <div class="placeholder-card">
                            <h3>Performance Metrics Content</h3>
                            <p>This section will contain system performance data, load times, and optimization insights.</p>
                        </div>
                    </div>
                </section>

                <!-- Reports Section -->
                <section id="reports" class="section">
                    <div class="section-header">
                        <h2>Reports</h2>
                        <p>Generate and view detailed analytics reports</p>
                    </div>
                    <div class="placeholder-content">
                        <div class="placeholder-card">
                            <h3>Reports Content</h3>
                            <p>This section will contain report generation tools and downloadable analytics reports.</p>
                        </div>
                    </div>
                </section>

                <!-- Test Section for Scrolling -->
                <section id="test-scroll" class="section">
                    <div class="section-header">
                        <h2>Test Content for Scrolling</h2>
                        <p>This content is added to test the sticky navbar functionality</p>
                    </div>
                    <div class="placeholder-content">
                        <div class="placeholder-card" style="height: 600px; background: linear-gradient(45deg, #f8f9fa, #e9ecef); margin: 2rem 0;">
                            <h3>Scroll Test Area 1</h3>
                            <p>This is a tall content area to enable scrolling. The navbar should stick to the top when you scroll down.</p>
                        </div>
                        <div class="placeholder-card" style="height: 600px; background: linear-gradient(45deg, #e9ecef, #f8f9fa); margin: 2rem 0;">
                            <h3>Scroll Test Area 2</h3>
                            <p>Continue scrolling to test the sticky navbar behavior. The navbar should remain visible at the top.</p>
                        </div>
                        <div class="placeholder-card" style="height: 600px; background: linear-gradient(45deg, #f8f9fa, #dee2e6); margin: 2rem 0;">
                            <h3>Scroll Test Area 3</h3>
                            <p>More content to ensure sufficient scroll height for testing the sticky navbar functionality.</p>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script src="js/dashboard.js"></script>
    <script>
        // Initialize the dashboard navbar for V-Zone immediately when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            const dashboardNavbar = new DashboardNavbar('v-zone');
            console.log('Dashboard navbar initialized');
            
            // Initialize sidebar toggle functionality
            initSidebarToggle();
            
            // Initialize accordion functionality
            initAccordion();
        });
        
        // Accordion functionality
        function initAccordion() {
            const accordionToggles = document.querySelectorAll('.accordion-toggle');
            
            accordionToggles.forEach(toggle => {
                toggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const accordionItem = this.closest('.nav-accordion');
                    const isActive = accordionItem.classList.contains('active');
                    
                    // Close all other accordions
                    document.querySelectorAll('.nav-accordion').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // Toggle current accordion
                    if (!isActive) {
                        accordionItem.classList.add('active');
                    }
                    
                    console.log('Accordion toggled:', accordionItem.querySelector('span').textContent);
                });
            });
            
            console.log('Accordion functionality initialized');
        }
        
        // Sidebar toggle functionality
        function initSidebarToggle() {
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.getElementById('sidebarToggle');
            
            if (sidebar && sidebarToggle) {
                sidebarToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('collapsed');
                    
                    // Rotate icon based on state
                    const icon = sidebarToggle.querySelector('svg');
                    if (sidebar.classList.contains('collapsed')) {
                        icon.style.transform = 'rotate(180deg)';
                        // Move toggle button to collapsed position using CSS custom property
                        document.documentElement.style.setProperty('--toggle-button-left', 'calc(var(--sidebar-collapsed-width) - 20px)');
                        console.log('Sidebar collapsed - toggle button moved to collapsed position');
                    } else {
                        icon.style.transform = 'rotate(0deg)';
                        // Move toggle button to expanded position using CSS custom property
                        document.documentElement.style.setProperty('--toggle-button-left', 'calc(var(--sidebar-width) - 20px)');
                        console.log('Sidebar expanded - toggle button moved to expanded position');
                    }
                    
                    // Force a reflow to ensure CSS transitions work
                    sidebar.offsetHeight;
                });
                
                console.log('Sidebar toggle initialized');
            } else {
                console.error('Sidebar or toggle button not found');
            }
        }
    </script>
</body>
</html>
